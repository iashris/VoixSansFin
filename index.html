<!DOCTYPE html>
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
	<!--<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	
	<script src="inc/shim/Base64.js" type="text/javascript"></script>
	<script src="inc/shim/Base64binary.js" type="text/javascript"></script>
	<script src="inc/shim/WebAudioAPI.js" type="text/javascript"></script>
	
	<script src="js/midi/audioDetect.js" type="text/javascript"></script>
	<script src="js/midi/gm.js" type="text/javascript"></script>
	<script src="js/midi/loader.js" type="text/javascript"></script>
	<script src="js/midi/plugin.audiotag.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webaudio.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webmidi.js" type="text/javascript"></script>
	
	<script src="js/util/dom_request_xhr.js" type="text/javascript"></script>
	<script src="js/util/dom_request_script.js" type="text/javascript"></script>-->

</head>
<body>
<!--<button onclick="yalgaarx(spacex);">begin</button>-->
<button onclick="yalgaarx();">begin</button>
<script type="text/javascript">

function yalgaarx(){
var xmlhttp = new XMLHttpRequest();
var url = "http://api.wolframalpha.com/v2/query?appid=K8XLWL-37R5K3XYQQ&input=log%205%20300%20digits&format=plaintext";

xmlhttp.onreadystatechange = function() {
if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
    var myArr = JSON.parse(xmlhttp.responseText);
    console.log(myArr);
    }
};

xmlhttp.open("GET", url, true);
xmlhttp.send();
}
/*

pi ='3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086\
513282306647093844695505822317253594081284811174502841027019385211055596446229489549303819644288109756693344612\
8475648233786783165271201909145648566923460348610454326648213393607260249141273724587006606315588174881520920962';
pii='62831853071795864769252867665590057683943387987502116419498891846156328125724179972560696506842341359642961730265646132941876892\
9101164463450718816256962234900568205403877042211119289245897909860763928857621951331866892256951296467573566330542403818291297133846\
2069722090865329642678721452049828254744917401321263117634976304184192565850818343072873';
chordarray=['none',['C4','E4','G4'],['D4','F4','A4'],['E4','G4','B4'],['F4','A4','C5'],['G4','B4','D5'],['A4','C5','E5'],['B4','D5','F5'],['C5','E5','G5'],['D5','F5','A5']];
notearray=['none','C5','D5','E5','F5','G5','A5','B5','C6','D6'];
spacex=[400,400,400,400,800,200,200,400,400,900];
spacey=[400,400,400,400,800,200,200,400,400,900];

function yalgaarx(){
	                    //  set your counter to 1
yalgaary();

var i = 0, howManyTimes = pii.length;
function f() {

    yalgaar(pii[i]);
    //yalgaar2(pii[i]);
    i++;
    if( i < howManyTimes ){
    	
    		backg(pii[i]);
    	
        setTimeout( f, spacex[i%spacex.length] );
    }
}
f();
}

function yalgaary(){

var i = 0, howManyTimes = pi.length;
function f() {
    yalgaar2(pi[i]);
    //yalgaar2(pii[i]);
    i++;
    if( i < howManyTimes ){
        setTimeout( f, spacey[i%spacey.length] );
    }
}
f();
}

 function yalgaar (numb) {
 	var instrumentName='xylophone';
 	
	MIDI.loadPlugin({
		soundfontUrl: "./soundfont/FluidR3_GM/",
		instrument: instrumentName,
		onprogress: function(state, progress) {
			console.log(numb);
		},
		onsuccess: function() {
			MIDI.programChange(0, MIDI.GM.byName[instrumentName].number);
			var delay = 0; // play one note every quarter second
			
			
			var velocity = 157; // how hard the note hits
			// play the note
			MIDI.setVolume(0, 157);
			var note=MIDI.keyToNote[notearray[numb]];
			MIDI.noteOn(0, note, velocity, delay);
			MIDI.noteOff(0, note, delay + 1.75);
		}
	});
};
 function yalgaar2 (numb) {
 	var instrumentName='acoustic_grand_piano';
	MIDI.loadPlugin({
		soundfontUrl: "./soundfont/FluidR3_GM/",
		instrument: instrumentName,
		onprogress: function(state, progress) {
			//console.log(numb);
		},
		onsuccess: function() {
			MIDI.programChange(0, MIDI.GM.byName[instrumentName].number);
			var delay = 0; // play one note every quarter second
			
			var velocity = 60; // how hard the note hits
			// play the note
			MIDI.setVolume(0, 60);
			var note=MIDI.keyToNote[notearray[numb]];
			MIDI.noteOn(0, note, velocity, delay);
			MIDI.noteOff(0, note, delay + 1.75);
			/*var chordtarget=chordarray[numb];
			var chord=[MIDI.keyToNote[chordtarget[0]],MIDI.keyToNote[chordtarget[1]],MIDI.keyToNote[chordtarget[2]]];
			MIDI.chordOn(0, chord, velocity, delay);
			MIDI.chordOff(0, chord, delay + 1.75);
		}
	});
};
 function backg (numb) {
 	var instrumentName='whistle';
 	
	MIDI.loadPlugin({
		soundfontUrl: "./soundfont/FluidR3_GM/",
		instrument: instrumentName,
		onprogress: function(state, progress) {
			console.log(numb);
		},
		onsuccess: function() {
			MIDI.programChange(0, MIDI.GM.byName[instrumentName].number);
			var delay = 0; // play one note every quarter second
			
			
			var velocity = 100; // how hard the note hits
			// play the note
			MIDI.setVolume(0, 100);
			var chordtarget=chordarray[numb];
			var chord=[MIDI.keyToNote[chordtarget[0]],MIDI.keyToNote[chordtarget[1]],MIDI.keyToNote[chordtarget[2]]];
			MIDI.chordOn(0, chord, velocity, delay);
			MIDI.chordOff(0, chord, delay + 0.9);
		}
	});
};

*/
</script>
</body>
</html>